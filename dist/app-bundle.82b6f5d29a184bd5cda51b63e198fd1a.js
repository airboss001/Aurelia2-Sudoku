define.switchToUserSpace();define("about.html.js",["require","exports","module","@aurelia/runtime"],(function(e,l,t){"use strict";l.__esModule=true;l.register=c;l.dependencies=l.default=l.template=l.name=void 0;var n=e("@aurelia/runtime");const r="about";l.name=r;const i="<h1>About</h1>\n<p>\n    <div>\n        Programming sample using Aurelia 2 Pre-Alpha Javascript Framework.\n    </div>\n</p>\n";l.template=i;var a=i;l.default=a;const o=[];l.dependencies=o;let s;function c(e){if(!s){s=n.CustomElement.define({name:r,template:i,dependencies:o})}e.register(s)}}));define("action.js",["require","exports","module"],(function(e,l,t){"use strict";l.__esModule=true;l.Action=void 0;class n{constructor(e,l,t){this.position=e;this.oldValue=l;this.newValue=t}}l.Action=n}));define("cell-model.js",["require","exports","module"],(function(e,l,t){"use strict";l.__esModule=true;l.CellModel=void 0;class n{constructor(){this._isSelected=false;this._isError=false;this._startValue="";this._value="";this._rowHints="";this._cellHints="";this._showValue=""}set isSelected(e){this._isSelected=e}get isSelected(){return this._isSelected}set isError(e){this._isError=e}get isError(){return this._isError}set startValue(e){this._startValue=e}get startValue(){return this._startValue}set showValue(e){this._showValue=e}get showValue(){return this._showValue}set value(e){if(this._startValue)return;this._value=e}get value(){return this._value}set rowHints(e){this._rowHints=e}get rowHints(){if(this._value)return"";return this._rowHints}set cellHints(e){this._cellHints=e}get cellHints(){if(this._value)return"";return this._cellHints}}l.CellModel=n}));define("cell-position.js",["require","exports","module","@aurelia/runtime","./constants"],(function(e,l,t){"use strict";l.__esModule=true;l.CellPositionValueConverter=void 0;var n=e("@aurelia/runtime");var r=e("./constants");var i=void 0&&(void 0).__decorate||function(e,l,t,n){var r=arguments.length,i=r<3?l:n===null?n=Object.getOwnPropertyDescriptor(l,t):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,l,t,n);else for(var o=e.length-1;o>=0;o--)if(a=e[o])i=(r<3?a(i):r>3?a(l,t,i):a(l,t))||i;return r>3&&i&&Object.defineProperty(l,t,i),i};let a=class e{toView(e){return Math.floor(e/r.blockSize)+1+""+(e%r.blockSize+1+"")}};l.CellPositionValueConverter=a;l.CellPositionValueConverter=a=i([(0,n.valueConverter)("cellPosition")],a)}));define("text!cell.css",(function(){return'._cell_yxhg3_1 {\n  position: relative;\n  width: 100%;\n  border: 1px solid lightslategrey;\n  background-color: whitesmoke;\n}\n\n._cell_yxhg3_1:after {\n  content: "";\n  display: block;\n  padding-bottom: 100%;\n}\n\n._cell-content_yxhg3_14 {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n._cellTop_yxhg3_20 {\n  padding: 2px;\n  font-size: 0.8em;\n  text-overflow: wrap;\n}\n\n._cellCenter_yxhg3_26 {\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: medium;\n}\n\n._cell-selected_yxhg3_35 {\n  background-color: #ccffcc;\n}\n\n._cell-value_yxhg3_39 {\n  font-size: 2.5em;\n  font-weight: bold;\n  color: #444444;\n}\n\n._cell-value-hint_yxhg3_45 {\n  font-size: 2.5em;\n  font-weight: bold;\n  color: navy;\n}\n\n._cell-show_yxhg3_51 {\n  font-size: 2.5em;\n  font-weight: bold;\n  color: #008800;\n}\n\n._cell-error_yxhg3_57 {\n  color: red;\n}\n/* dumber-css-module: {"cell":"_cell_yxhg3_1","cell-content":"_cell-content_yxhg3_14","cellTop":"_cellTop_yxhg3_20","cellCenter":"_cellCenter_yxhg3_26","cell-selected":"_cell-selected_yxhg3_35","cell-value":"_cell-value_yxhg3_39","cell-value-hint":"_cell-value-hint_yxhg3_45","cell-show":"_cell-show_yxhg3_51","cell-error":"_cell-error_yxhg3_57"} */\n'}));define("cell.html.js",["require","exports","module","@aurelia/runtime","@aurelia/runtime-html","./cell.css"],(function(e,l,t){"use strict";l.__esModule=true;l.register=f;l.dependencies=l.default=l.template=l.name=void 0;var n=e("@aurelia/runtime");var r=e("@aurelia/runtime-html");var i=a(e("./cell.css"));function a(e){return e&&e.__esModule?e:{default:e}}const o="cell";l.name=o;const s='<div class="cell">\r\n    <div class="cell-content ${cellModel.isSelected ? \'cell-selected\' : \'\'}">\r\n        <div class="cellTop">${!cellModel.startValue && !cellModel.value && cellModel.rowHints !== "" ? cellModel.rowHints : ""}</div>\r\n        <div class="cellCenter ${cellModel.startValue ? \'cell-value\' : cellModel.value ? \'cell-value-hint\' : \'cell-hints\'} ${cellModel.showValue ? \'cell-show\' : \'\'} ${cellModel.isError ? \'cell-error\' : \'\'}">\r\n            ${!cellModel.startValue && !cellModel.value && cellModel.cellHints !== "" ? cellModel.cellHints : ""}\r\n            ${cellModel.startValue !== "" ? cellModel.startValue : cellModel.value !== "" ? cellModel.value : ""}\r\n            ${!cellModel.startValue && !cellModel.value && cellModel.showValue !== "" ? cellModel.showValue : ""}\r\n        </div>\r\n    </div>\r\n</div>\r\n';l.template=s;var c=s;l.default=c;const u=[(0,r.cssModules)(i.default)];l.dependencies=u;let d;function f(e){if(!d){d=n.CustomElement.define({name:o,template:s,dependencies:u})}e.register(d)}}));define("cell.js",["require","exports","module","./cell.html","@aurelia/runtime","./cell-model","aurelia"],(function(e,l,t){"use strict";l.__esModule=true;l.Cell=void 0;var n=s(e("./cell.html"));var r=e("@aurelia/runtime");var i=e("./cell-model");var a=e("aurelia");function o(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;o=function(){return e};return e}function s(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=o();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;if(i&&(i.get||i.set)){Object.defineProperty(t,r,i)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}var c=void 0&&(void 0).__decorate||function(e,l,t,n){var r=arguments.length,i=r<3?l:n===null?n=Object.getOwnPropertyDescriptor(l,t):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,l,t,n);else for(var o=e.length-1;o>=0;o--)if(a=e[o])i=(r<3?a(i):r>3?a(l,t,i):a(l,t))||i;return r>3&&i&&Object.defineProperty(l,t,i),i};var u=void 0&&(void 0).__metadata||function(e,l){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,l)};let d=class e{};l.Cell=d;c([a.bindable,u("design:type",i.CellModel)],d.prototype,"cellModel",void 0);l.Cell=d=c([(0,r.customElement)(n)],d)}));define("constants.js",["require","exports","module"],(function(e,l,t){"use strict";l.__esModule=true;l.positionTopLeft=l.initialWidth=l.initialHeight=l.GameLevel=l.boardSize=l.blockColMax=l.blockRowMax=l.blockLoopMax=l.sudokuLoopSize=l.cellsInBlock=l.cellColSize=l.cellRowSize=l.sudokuSize=l.blockSize=void 0;const n=9;l.blockSize=n;const r=n*n;l.sudokuSize=r;const i=3;l.cellRowSize=i;const a=3;l.cellColSize=a;const o=27;l.cellsInBlock=o;const s=r-1;l.sudokuLoopSize=s;const c=n-1;l.blockLoopMax=c;const u=c;l.blockRowMax=u;const d=c;l.blockColMax=d;var f;l.boardSize=f;(function(e){e[e["large"]=1]="large";e[e["medium"]=.8]="medium";e[e["small"]=.6]="small"})(f||(l.boardSize=f={}));var _;l.GameLevel=_;(function(e){e[e["SIMPLE"]=0]="SIMPLE";e[e["MEDIUM"]=1]="MEDIUM";e[e["COMPLEX"]=2]="COMPLEX"})(_||(l.GameLevel=_={}));const h=604;l.initialHeight=h;const p=604;l.initialWidth=p;const y=0;l.positionTopLeft=y}));define("environment.js",["require","exports","module"],(function(e,l,t){"use strict";l.__esModule=true;l.saveVersion=l.version=void 0;const n="0.10.2";l.version=n;const r="0.1";l.saveVersion=r}));define("ext:css",["dumber/lib/inject-css"],(function(e){return e}));define.alias("ext:less","ext:css");define.alias("ext:scss","ext:css");define.alias("ext:sass","ext:css");define.alias("ext:styl","ext:css");define("hints.js",["require","exports","module"],(function(e,l,t){"use strict";l.__esModule=true;l.Hints=void 0;class n{constructor(e,l){this.isRowHint=false;this.isCellHint=false;this.isRowHint=e;this.isCellHint=l}}l.Hints=n}));define("key-input.js",["require","exports","module","ts-key-enum","./action"],(function(e,l,t){"use strict";l.__esModule=true;l.KeyInput=void 0;var n=e("ts-key-enum");var r=e("./action");class i{constructor(){this.history=[];this.isRowHint=false;this.isCellHint=false}keypadHandler(e,l,t,n,r,i,a){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":let o={altKey:false,shiftKey:a.isRowHint,ctrlKey:a.isCellHint,key:e,preventDefault:()=>{}};this.handleKey(o,l,n,r,i);break;case"r":a.isRowHint=!a.isRowHint;if(a.isRowHint)a.isCellHint=false;break;case"c":a.isCellHint=!a.isCellHint;if(a.isCellHint)a.isRowHint=false;break;case"s":l[n.currPos].value=""+t[n.currPos];l[n.currPos].showValue=""+t[n.currPos];break;case"u":case"Backspace":this.unDo(l);break;default:break}}handleKey(e,l,t,r,i){let a=0;let o=false;a=e.altKey?1:a;a=e.shiftKey?2:a;a=e.ctrlKey?3:a;if(e.key==="Shift"||e.key==="Control"||e.key==="Alt"){return}if(!"0123456789".includes(e.key)){switch(e.code){case n.Key.ArrowUp:case n.Key.ArrowDown:case n.Key.ArrowLeft:case n.Key.ArrowRight:r.moveCellSelection(l,e.key,t);o=true;break;case"Digit0":case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Numpad0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":this.cellInputKey(l,t,e.code.substring(e.code.length-1,e.code.length),a,i);o=true;break;case"Backspace":this.unDo(l);break}}else{switch(e.key){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":this.cellInputKey(l,t,e.key,a,i);o=true;break}}if(o){e.preventDefault()}}cellInputKey(e,l,t,n,i){let a=e[l.currPos];if(t==="0"){if(a.showValue!=="")return;switch(n){case 1:break;case 2:a.rowHints="";break;case 3:a.cellHints="";break;default:if(i){a.startValue=""}else{let e=new r.Action(l.currPos,+a.value,0);this.updateHistory(e);a.value=""}break}}else{switch(n){case 1:break;case 2:a.rowHints=this.addRemoveKey(a.rowHints,t);break;case 3:a.cellHints=this.addRemoveKey(a.cellHints,t);break;default:if(i){if(i&&a.startValue===t){a.startValue=""}else{a.startValue=t}}else{if(a.showValue!=="")return;if(a.value===t){a.value=""}else{let e=new r.Action(l.currPos,+a.value,+t);this.updateHistory(e);a.value=t}}break}}}addRemoveKey(e,l){let t=e;if(t.includes(l)){t=t.replace(l,"")}else{let e=t!=null?(t+l).split(""):[];t=this.getSortedUnique(e)}return t}getSortedUnique(e){let l=e;l=l.sort((function(e,l){return e.localeCompare(l)}));let t=new Set(l);return Array.from(t).join("")}resetSudokuHistory(){this.history=[]}updateHistory(e){if(this.history.length!==0){let l=this.history[this.history.length-1];if(l.position===e.position&&l.newValue===e.newValue&&l.oldValue===e.oldValue)return}this.history.push(e)}unDo(e){if(this.history.length!==0){let l=this.history[this.history.length-1];if(l){let t=l.oldValue===0?"":""+l.oldValue;e[l.position].value=t;this.history.pop()}}}}l.KeyInput=i}));define("load-save.js",["require","exports","module","./environment","alerty/dist/js/alerty.js","./cell-model"],(function(e,l,t){"use strict";l.__esModule=true;l.LoadSaveUtils=void 0;var n=e("./environment");var r=o(e("alerty/dist/js/alerty.js"));var i=e("./cell-model");function a(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;a=function(){return e};return e}function o(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=a();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;if(i&&(i.get||i.set)){Object.defineProperty(t,r,i)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}class s{constructor(){this.lsSaveName="AU2.Sudoku.save"}doesSaveExist(){let e=localStorage.getItem(this.lsSaveName);if(e===null)return false;let l=JSON.parse(e);if(!l||l.version!==n.saveVersion)return false;return true}saveData(e,l){let t=JSON.stringify({version:n.saveVersion,data:e,full:l});localStorage.setItem(this.lsSaveName,t);r.toasts("Saved")}versionMismatchOk(){localStorage.setItem(this.lsSaveName,null)}loadSaveData(e,l){let t=localStorage.getItem(this.lsSaveName);if(t===null)return;let a=JSON.parse(t);if(!a||a.version!==n.saveVersion){r.alert("Version mismatch, unable to load the previous save.",{okLabel:"Ok"},()=>this.versionMismatchOk());return}let o=a.full;o.forEach((e,t)=>l.splice(t,1,e));let s=a.data;s.forEach((l,t)=>{Object.setPrototypeOf(l,i.CellModel.prototype);e.splice(t,1,l);if(t==0){l.isSelected=true}else{l.isSelected=false}});r.toasts("Load complete")}}l.LoadSaveUtils=s}));define("main.js",["require","exports","module","aurelia","./my-app"],(function(e,l,t){"use strict";var n=a(e("aurelia"));var r=e("./my-app");function i(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;i=function(){return e};return e}function a(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=i();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;if(a&&(a.get||a.set)){Object.defineProperty(t,r,a)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}n.default.register(n.RouterConfiguration).app(r.MyApp).start()}));define("missing.html.js",["require","exports","module","@aurelia/runtime"],(function(e,l,t){"use strict";l.__esModule=true;l.register=c;l.dependencies=l.default=l.template=l.name=void 0;var n=e("@aurelia/runtime");const r="missing";l.name=r;const i="<h3>Ouch! Couldn't find '${missingComponent}'!</h3>\n";l.template=i;var a=i;l.default=a;const o=[];l.dependencies=o;let s;function c(e){if(!s){s=n.CustomElement.define({name:r,template:i,dependencies:o})}e.register(s)}}));define("missing.js",["require","exports","module","./missing.html","@aurelia/runtime"],(function(e,l,t){"use strict";l.__esModule=true;l.Missing=void 0;var n=a(e("./missing.html"));var r=e("@aurelia/runtime");function i(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;i=function(){return e};return e}function a(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=i();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;if(a&&(a.get||a.set)){Object.defineProperty(t,r,a)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}var o=void 0&&(void 0).__decorate||function(e,l,t,n){var r=arguments.length,i=r<3?l:n===null?n=Object.getOwnPropertyDescriptor(l,t):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,l,t,n);else for(var o=e.length-1;o>=0;o--)if(a=e[o])i=(r<3?a(i):r>3?a(l,t,i):a(l,t))||i;return r>3&&i&&Object.defineProperty(l,t,i),i};let s=class e{enter(e){this.missingComponent=e.id}};l.Missing=s;s.parameters=["id"];l.Missing=s=o([(0,r.customElement)(n)],s)}));define("move-cell-selection.js",["require","exports","module","./constants"],(function(e,l,t){"use strict";l.__esModule=true;l.MoveCellSelection=void 0;var n=e("./constants");class r{returnRow(e){return Math.floor(e/n.blockSize)}moveCellSelection(e,l,t){t.prevPos=t.currPos;switch(l){case"ArrowUp":this.moveUp(e,t);break;case"ArrowDown":this.moveDown(e,t);break;case"ArrowLeft":this.moveLeft(e,t);break;case"ArrowRight":this.moveRight(e,t);break;default:return}}moveDown(e,l){let t=l.currPos;t=t+n.blockSize;if(t>n.sudokuLoopSize){t=t-n.sudokuSize}l.currPos=t;this.markSelectedCell(e,l)}moveUp(e,l){let t=l.currPos;t=t-n.blockSize;if(t<0){t=n.sudokuSize+t}l.currPos=t;this.markSelectedCell(e,l)}moveRight(e,l){let t=l.currPos;let r=this.returnRow(t);let i=t%n.blockSize;i=(i+1)%n.blockSize;l.currPos=r*n.blockSize+i;this.markSelectedCell(e,l)}moveLeft(e,l){let t=l.currPos;let r=this.returnRow(t);let i=t%n.blockSize;if(i===0){i=n.blockSize-1}else{i=i-1}l.currPos=r*n.blockSize+i;this.markSelectedCell(e,l)}markSelectedCell(e,l){let t=e[l.prevPos];t.isSelected=false;e.splice(l.prevPos,1,t);t=e[l.currPos];t.isSelected=true;e.splice(l.currPos,1,t)}}l.MoveCellSelection=r}));define("text!my-app.css",(function(){return"body {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 0px;\n}\n\nnav {\n  background: #eee;\n  display: flex;\n}\n\na {\n  padding: 10px;\n  text-decoration: none;\n  color: black;\n}\na:hover {\n  background-color: darkgray;\n}\n\n/* When using css-module, set .goto-active\nas a global class name */\n.goto-active {\n  background-color: lightgray;\n}\n/* dumber-css-module: {} */\n"}));define("my-app.html.js",["require","exports","module","@aurelia/runtime","@aurelia/runtime-html","./my-app.css","./sudoku","./about.html","./missing"],(function(e,l,t){"use strict";l.__esModule=true;l.register=v;l.dependencies=l.default=l.template=l.name=void 0;var n=e("@aurelia/runtime");var r=e("@aurelia/runtime-html");var i=d(e("./my-app.css"));var a=u(e("./sudoku"));var o=u(e("./about.html"));var s=u(e("./missing"));function c(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;c=function(){return e};return e}function u(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=c();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;if(i&&(i.get||i.set)){Object.defineProperty(t,r,i)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}function d(e){return e&&e.__esModule?e:{default:e}}const f="my-app";l.name=f;const _='\n\n\n\n<nav>\n  <a goto="sudoku">Sudoku</a>\n  <a goto="about">About</a>\n</nav>\n\n<au-viewport default="sudoku" fallback="missing"></au-viewport>\n';l.template=_;var h=_;l.default=h;const p=[a,o,s,(0,r.cssModules)(i.default)];l.dependencies=p;let y;function v(e){if(!y){y=n.CustomElement.define({name:f,template:_,dependencies:p})}e.register(y)}}));define("my-app.js",["require","exports","module","./my-app.html","@aurelia/runtime","./environment","alerty/dist/js/alerty.js","alerty/dist/css/alerty.css"],(function(e,l,t){"use strict";l.__esModule=true;l.MyApp=void 0;var n=o(e("./my-app.html"));var r=e("@aurelia/runtime");var i=e("./environment");e("alerty/dist/js/alerty.js");e("alerty/dist/css/alerty.css");function a(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;a=function(){return e};return e}function o(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=a();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;if(i&&(i.get||i.set)){Object.defineProperty(t,r,i)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}var s=void 0&&(void 0).__decorate||function(e,l,t,n){var r=arguments.length,i=r<3?l:n===null?n=Object.getOwnPropertyDescriptor(l,t):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,l,t,n);else for(var o=e.length-1;o>=0;o--)if(a=e[o])i=(r<3?a(i):r>3?a(l,t,i):a(l,t))||i;return r>3&&i&&Object.defineProperty(l,t,i),i};var c=void 0&&(void 0).__metadata||function(e,l){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,l)};let u=class e{constructor(){document.title=`Aurelia2-Sudoku ${i.version}`}};l.MyApp=u;l.MyApp=u=s([(0,r.customElement)(n),c("design:paramtypes",[])],u)}));define("position.js",["require","exports","module"],(function(e,l,t){"use strict";l.__esModule=true;l.Position=void 0;class n{constructor(e,l){this.prevPos=e;this.currPos=l}}l.Position=n}));define("state.js",["require","exports","module"],(function(e,l,t){"use strict";l.__esModule=true;l.State=void 0;class n{}l.State=n}));define("sudoku-gen2.js",["require","exports","module","./constants","./sudoku-utils"],(function(e,l,t){"use strict";l.__esModule=true;l.SudokuGen2=void 0;var n=a(e("./constants"));var r=e("./sudoku-utils");function i(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;i=function(){return e};return e}function a(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=i();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;if(a&&(a.get||a.set)){Object.defineProperty(t,r,a)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}const o=9;class s{constructor(){this._setRowPosition=[0,0,0,3,3,3,6,6,6];this._setColPosition=[0,3,6,0,3,6,0,3,6];this._numberSet=new Array(o).fill(0).map(()=>new Array(o).fill(0));this._problemSet=new Array(o).fill(0).map(()=>new Array(o).fill(0))}fillSudoko(e,l,t){let n=[1,2,3,4,5,6,7,8,9];if(l==o-1&&t==o)return true;if(t==o){l++;t=0}if(e[l][t]!=0)return this.solveSudoko(e,l,t+1);r.SudokuUtils.shuffle(n);for(let r of n){if(this.isSafe(e,l,t,r)){e[l][t]=r;if(this.fillSudoko(e,l,t+1)){return true}}e[l][t]=0}return false}solveSudoko(e,l,t){if(l==o-1&&t==o)return true;if(t==o){l++;t=0}if(e[l][t]!=0)return this.solveSudoko(e,l,t+1);for(let n=1;n<10;n++){if(this.isSafe(e,l,t,n)){e[l][t]=n;if(this.solveSudoko(e,l,t+1))return true}e[l][t]=0}return false}print(e){let l="";for(let t=0;t<o;t++){for(let n=0;n<o;n++){l+=e[t][n]+" "}l+="\n"}console.log(l)}isSafe(e,l,t,n){for(let t=0;t<=8;t++){if(e[l][t]==n)return false}for(let l=0;l<=8;l++){if(e[l][t]==n)return false}let r=l-l%3;let i=t-t%3;for(let l=0;l<3;l++){for(let t=0;t<3;t++){if(e[l+r][t+i]==n)return false}}return true}unMask(e,l,t){let n;let i=[0,0,0,1,1,1,2,2,2];let a=[0,1,2,0,1,2,0,1,2];let o=[0,0,0,0,0,0,0,0,0];let s;let c=0;do{let t=r.SudokuUtils.randomIntFromInterval(0,8);if(o[t]==0){o[t]=1;c++;let n=r.SudokuUtils.randomIntFromInterval(e,l);let s=0;do{let e=r.SudokuUtils.randomIntFromInterval(0,8);let l=this._setRowPosition[t]+i[e];let n=this._setColPosition[t]+a[e];if(this._problemSet[l][n]==0){this._problemSet[l][n]=this._numberSet[l][n];s++}}while(s<n)}}while(c<t)}processSudoku(e,l){if(this.fillSudoko(e,0,0))this.print(e);else console.log("No Solution exists");let t,r,i;let a=n.GameLevel.COMPLEX;this._numberSet=e.map(e=>[...e]);switch(l){case n.GameLevel.SIMPLE:t=4;r=6;i=8;this.unMask(t,r,i);break;case n.GameLevel.MEDIUM:t=3;r=5;i=7;this.unMask(t,r,i);break;case n.GameLevel.COMPLEX:t=3;r=5;i=6;this.unMask(t,r,i);break;default:this.unMask(3,6,7);break}this.print(this._problemSet);return this._problemSet}}l.SudokuGen2=s}));define("sudoku-utils.js",["require","exports","module","./constants"],(function(e,l,t){"use strict";l.__esModule=true;l.SudokuUtils=void 0;var n=i(e("./constants"));function r(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;r=function(){return e};return e}function i(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=r();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(t,i,a)}else{t[i]=e[i]}}}t.default=e;if(l){l.set(e,t)}return t}class a{static randomIntFromInterval(e,l){return Math.floor(Math.random()*(l-e+1)+e)}static range(e,l,t=1){return[...Array(l-e).keys()].filter(e=>!(e%Math.round(t))).map(l=>e+l)}static*rangeLazy(e,l,t=1){if(l===undefined){[l,e]=[e,0]}for(let n=e;n<l;n+=t){yield n}}static shuffle(e){for(var l=e.length-1;l>0;l--){var t=Math.floor(Math.random()*(l+1));[e[l],e[t]]=[e[t],e[l]]}}static returnCol(e){return e%n.blockSize}static getOffsets(e,l){let t=Math.floor(e/n.cellColSize)*n.cellsInBlock+l%n.cellColSize;let r=n.blockSize*Math.floor(l/n.cellRowSize)+n.cellRowSize*(e%n.cellRowSize);return{col:t,row:r}}static isCorrectRow(e,l){let t=new Array(1,2,3,4,5,6,7,8,9);let r=new Array;for(let t=0;t<=n.blockLoopMax;t++){r[t]=l[e*n.blockSize+t]}r.sort();return r.join()==t.join()}static isCorrectCol(e,l){let t=new Array(1,2,3,4,5,6,7,8,9);let r=new Array;for(let t=0;t<=n.blockLoopMax;t++){r[t]=l[e+t*n.blockSize]}r.sort();return r.join()==t.join()}static isCorrectBlock(e,l){let t=new Array(1,2,3,4,5,6,7,8,9);let r=new Array;for(let t=0;t<=n.blockLoopMax;t++){let n=this.getOffsets(e,t);r[t]=l[n.col+n.row]}r.sort();return r.join()==t.join()}static isSolvedSudoku(e){for(let l=0;l<=n.blockLoopMax;l++){if(!this.isCorrectBlock(l,e)||!this.isCorrectRow(l,e)||!this.isCorrectCol(l,e)){return false}}return true}}l.SudokuUtils=a}));define("text!sudoku.css",(function(){return'._detail-content_f8hjy_1 {\n  width: 604px;\n  margin-bottom: 10px;\n}\n\nsummary:focus {\n  outline: none;\n}\n\ndetails:focus {\n  outline: none;\n}\n\n._btn_f8hjy_14 {\n  margin: 1em;\n}\n\n._key-button_f8hjy_18 {\n  margin: 10px 10px;\n  width: 60px;\n  height: 50px;\n  color: navy;\n  font-size: 1.5em;\n}\n\n._key-button-clr_f8hjy_26 {\n  margin: 10px 10px;\n  width: 100px;\n  height: 50px;\n  color: navy;\n  font-size: 1.5em;\n}\n\n._key-button-reveal_f8hjy_34 {\n  margin: 10px 10px 10px 35px;\n  width: 80px;\n  height: 40px;\n  color: navy;\n  font-size: 1em;\n}\n\n._hint-button_f8hjy_42 {\n  margin: 5px;\n  width: 80px;\n  height: 40px;\n  color: navy;\n}\n\n._hint-active_f8hjy_49 {\n  background-color: lightgreen;\n}\n\n._wrapper_f8hjy_53 {\n  width: 604px;\n  height: 604px;\n  margin: 0px 20px 20px 20px;\n}\n\n@media only screen and (max-width: 600px) {\n  ._wrapper_f8hjy_53 {\n    width: 604px;\n    height: 604px;\n    margin: 0px 0px 0px 0px;\n  }\n}\n._page-grid_f8hjy_66 {\n  display: grid;\n  padding: 3px;\n  gap: 1px;\n  grid-template-columns: 1fr;\n  grid-template-rows: repeat(3, auto);\n  grid-template-areas: "header" "options" "board";\n}\n\n._header-section_f8hjy_75 {\n  grid-row: 1/2;\n}\n\n._board-section_f8hjy_79 {\n  grid-row: 3/4;\n  width: 400px;\n  height: -webkit-fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n}\n\n._option-section_f8hjy_87 {\n  grid-row: 2/3;\n}\n\n@media only screen and (max-width: 600px) {\n  ._page-grid_f8hjy_66 {\n    display: grid;\n    padding: 20px 3px;\n    gap: 1px;\n    grid-template-columns: 1fr;\n    grid-template-rows: repeat(3, auto);\n    grid-template-areas: "board" "header" "options";\n  }\n\n  ._board-section_f8hjy_79 {\n    grid-row: 1/2;\n  }\n\n  ._header-section_f8hjy_75 {\n    grid-row: 2/3;\n  }\n\n  ._option-section_f8hjy_87 {\n    grid-row: 3/4;\n  }\n}\n._matrix-layout_f8hjy_113 {\n  margin: 0px;\n  display: grid;\n  padding: 3px;\n  gap: 1px;\n  grid-template-columns: repeat(3, 1fr) 2px repeat(3, 1fr) 2px repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr) 1px repeat(3, 1fr) 1px repeat(3, 1fr);\n  grid-template-areas: "cell11 cell12 cell13 . cell14 cell15 cell16 . cell17 cell18 cell19" "cell21 cell22 cell23 . cell24 cell25 cell26 . cell27 cell28 cell29" "cell31 cell32 cell33 . cell34 cell35 cell36 . cell37 cell38 cell39" ". . . . . . . . . . ." "cell41 cell42 cell43 . cell44 cell45 cell46 . cell47 cell48 cell49" "cell51 cell52 cell53 . cell54 cell55 cell56 . cell57 cell58 cell59" "cell61 cell62 cell63 . cell64 cell65 cell66 . cell67 cell68 cell69" ". . . . . . . . . . ." "cell71 cell72 cell73 . cell74 cell75 cell76 . cell77 cell78 cell79" "cell81 cell82 cell83 . cell84 cell85 cell86 . cell87 cell88 cell89" "cell91 cell92 cell93 . cell94 cell95 cell96 . cell97 cell98 cell99";\n  border: 1px solid lightslategrey;\n  background-color: black;\n}\n\n._cell-11_f8hjy_125 {\n  grid-area: cell11;\n}\n\n._cell-12_f8hjy_129 {\n  grid-area: cell12;\n}\n\n._cell-13_f8hjy_133 {\n  grid-area: cell13;\n}\n\n._cell-14_f8hjy_137 {\n  grid-area: cell14;\n}\n\n._cell-15_f8hjy_141 {\n  grid-area: cell15;\n}\n\n._cell-16_f8hjy_145 {\n  grid-area: cell16;\n}\n\n._cell-17_f8hjy_149 {\n  grid-area: cell17;\n}\n\n._cell-18_f8hjy_153 {\n  grid-area: cell18;\n}\n\n._cell-19_f8hjy_157 {\n  grid-area: cell19;\n}\n\n._cell-21_f8hjy_161 {\n  grid-area: cell21;\n}\n\n._cell-22_f8hjy_165 {\n  grid-area: cell22;\n}\n\n._cell-23_f8hjy_169 {\n  grid-area: cell23;\n}\n\n._cell-24_f8hjy_173 {\n  grid-area: cell24;\n}\n\n._cell-25_f8hjy_177 {\n  grid-area: cell25;\n}\n\n._cell-26_f8hjy_181 {\n  grid-area: cell26;\n}\n\n._cell-27_f8hjy_185 {\n  grid-area: cell27;\n}\n\n._cell-28_f8hjy_189 {\n  grid-area: cell28;\n}\n\n._cell-29_f8hjy_193 {\n  grid-area: cell29;\n}\n\n._cell-31_f8hjy_197 {\n  grid-area: cell31;\n}\n\n._cell-32_f8hjy_201 {\n  grid-area: cell32;\n}\n\n._cell-33_f8hjy_205 {\n  grid-area: cell33;\n}\n\n._cell-34_f8hjy_209 {\n  grid-area: cell34;\n}\n\n._cell-35_f8hjy_213 {\n  grid-area: cell35;\n}\n\n._cell-36_f8hjy_217 {\n  grid-area: cell36;\n}\n\n._cell-37_f8hjy_221 {\n  grid-area: cell37;\n}\n\n._cell-38_f8hjy_225 {\n  grid-area: cell38;\n}\n\n._cell-39_f8hjy_229 {\n  grid-area: cell39;\n}\n\n._cell-41_f8hjy_233 {\n  grid-area: cell41;\n}\n\n._cell-42_f8hjy_237 {\n  grid-area: cell42;\n}\n\n._cell-43_f8hjy_241 {\n  grid-area: cell43;\n}\n\n._cell-44_f8hjy_245 {\n  grid-area: cell44;\n}\n\n._cell-45_f8hjy_249 {\n  grid-area: cell45;\n}\n\n._cell-46_f8hjy_253 {\n  grid-area: cell46;\n}\n\n._cell-47_f8hjy_257 {\n  grid-area: cell47;\n}\n\n._cell-48_f8hjy_261 {\n  grid-area: cell48;\n}\n\n._cell-49_f8hjy_265 {\n  grid-area: cell49;\n}\n\n._cell-51_f8hjy_269 {\n  grid-area: cell51;\n}\n\n._cell-52_f8hjy_273 {\n  grid-area: cell52;\n}\n\n._cell-53_f8hjy_277 {\n  grid-area: cell53;\n}\n\n._cell-54_f8hjy_281 {\n  grid-area: cell54;\n}\n\n._cell-55_f8hjy_285 {\n  grid-area: cell55;\n}\n\n._cell-56_f8hjy_289 {\n  grid-area: cell56;\n}\n\n._cell-57_f8hjy_293 {\n  grid-area: cell57;\n}\n\n._cell-58_f8hjy_297 {\n  grid-area: cell58;\n}\n\n._cell-59_f8hjy_301 {\n  grid-area: cell59;\n}\n\n._cell-61_f8hjy_305 {\n  grid-area: cell61;\n}\n\n._cell-62_f8hjy_309 {\n  grid-area: cell62;\n}\n\n._cell-63_f8hjy_313 {\n  grid-area: cell63;\n}\n\n._cell-64_f8hjy_317 {\n  grid-area: cell64;\n}\n\n._cell-65_f8hjy_321 {\n  grid-area: cell65;\n}\n\n._cell-66_f8hjy_325 {\n  grid-area: cell66;\n}\n\n._cell-67_f8hjy_329 {\n  grid-area: cell67;\n}\n\n._cell-68_f8hjy_333 {\n  grid-area: cell68;\n}\n\n._cell-69_f8hjy_337 {\n  grid-area: cell69;\n}\n\n._cell-71_f8hjy_341 {\n  grid-area: cell71;\n}\n\n._cell-72_f8hjy_345 {\n  grid-area: cell72;\n}\n\n._cell-73_f8hjy_349 {\n  grid-area: cell73;\n}\n\n._cell-74_f8hjy_353 {\n  grid-area: cell74;\n}\n\n._cell-75_f8hjy_357 {\n  grid-area: cell75;\n}\n\n._cell-76_f8hjy_361 {\n  grid-area: cell76;\n}\n\n._cell-77_f8hjy_365 {\n  grid-area: cell77;\n}\n\n._cell-78_f8hjy_369 {\n  grid-area: cell78;\n}\n\n._cell-79_f8hjy_373 {\n  grid-area: cell79;\n}\n\n._cell-81_f8hjy_377 {\n  grid-area: cell81;\n}\n\n._cell-82_f8hjy_381 {\n  grid-area: cell82;\n}\n\n._cell-83_f8hjy_385 {\n  grid-area: cell83;\n}\n\n._cell-84_f8hjy_389 {\n  grid-area: cell84;\n}\n\n._cell-85_f8hjy_393 {\n  grid-area: cell85;\n}\n\n._cell-86_f8hjy_397 {\n  grid-area: cell86;\n}\n\n._cell-87_f8hjy_401 {\n  grid-area: cell87;\n}\n\n._cell-88_f8hjy_405 {\n  grid-area: cell88;\n}\n\n._cell-89_f8hjy_409 {\n  grid-area: cell89;\n}\n\n._cell-91_f8hjy_413 {\n  grid-area: cell91;\n}\n\n._cell-92_f8hjy_417 {\n  grid-area: cell92;\n}\n\n._cell-93_f8hjy_421 {\n  grid-area: cell93;\n}\n\n._cell-94_f8hjy_425 {\n  grid-area: cell94;\n}\n\n._cell-95_f8hjy_429 {\n  grid-area: cell95;\n}\n\n._cell-96_f8hjy_433 {\n  grid-area: cell96;\n}\n\n._cell-97_f8hjy_437 {\n  grid-area: cell97;\n}\n\n._cell-98_f8hjy_441 {\n  grid-area: cell98;\n}\n\n._cell-99_f8hjy_445 {\n  grid-area: cell99;\n}\n/* dumber-css-module: {"detail-content":"_detail-content_f8hjy_1","btn":"_btn_f8hjy_14","key-button":"_key-button_f8hjy_18","key-button-clr":"_key-button-clr_f8hjy_26","key-button-reveal":"_key-button-reveal_f8hjy_34","hint-button":"_hint-button_f8hjy_42","hint-active":"_hint-active_f8hjy_49","wrapper":"_wrapper_f8hjy_53","page-grid":"_page-grid_f8hjy_66","header-section":"_header-section_f8hjy_75","board-section":"_board-section_f8hjy_79","option-section":"_option-section_f8hjy_87","matrix-layout":"_matrix-layout_f8hjy_113","cell-11":"_cell-11_f8hjy_125","cell-12":"_cell-12_f8hjy_129","cell-13":"_cell-13_f8hjy_133","cell-14":"_cell-14_f8hjy_137","cell-15":"_cell-15_f8hjy_141","cell-16":"_cell-16_f8hjy_145","cell-17":"_cell-17_f8hjy_149","cell-18":"_cell-18_f8hjy_153","cell-19":"_cell-19_f8hjy_157","cell-21":"_cell-21_f8hjy_161","cell-22":"_cell-22_f8hjy_165","cell-23":"_cell-23_f8hjy_169","cell-24":"_cell-24_f8hjy_173","cell-25":"_cell-25_f8hjy_177","cell-26":"_cell-26_f8hjy_181","cell-27":"_cell-27_f8hjy_185","cell-28":"_cell-28_f8hjy_189","cell-29":"_cell-29_f8hjy_193","cell-31":"_cell-31_f8hjy_197","cell-32":"_cell-32_f8hjy_201","cell-33":"_cell-33_f8hjy_205","cell-34":"_cell-34_f8hjy_209","cell-35":"_cell-35_f8hjy_213","cell-36":"_cell-36_f8hjy_217","cell-37":"_cell-37_f8hjy_221","cell-38":"_cell-38_f8hjy_225","cell-39":"_cell-39_f8hjy_229","cell-41":"_cell-41_f8hjy_233","cell-42":"_cell-42_f8hjy_237","cell-43":"_cell-43_f8hjy_241","cell-44":"_cell-44_f8hjy_245","cell-45":"_cell-45_f8hjy_249","cell-46":"_cell-46_f8hjy_253","cell-47":"_cell-47_f8hjy_257","cell-48":"_cell-48_f8hjy_261","cell-49":"_cell-49_f8hjy_265","cell-51":"_cell-51_f8hjy_269","cell-52":"_cell-52_f8hjy_273","cell-53":"_cell-53_f8hjy_277","cell-54":"_cell-54_f8hjy_281","cell-55":"_cell-55_f8hjy_285","cell-56":"_cell-56_f8hjy_289","cell-57":"_cell-57_f8hjy_293","cell-58":"_cell-58_f8hjy_297","cell-59":"_cell-59_f8hjy_301","cell-61":"_cell-61_f8hjy_305","cell-62":"_cell-62_f8hjy_309","cell-63":"_cell-63_f8hjy_313","cell-64":"_cell-64_f8hjy_317","cell-65":"_cell-65_f8hjy_321","cell-66":"_cell-66_f8hjy_325","cell-67":"_cell-67_f8hjy_329","cell-68":"_cell-68_f8hjy_333","cell-69":"_cell-69_f8hjy_337","cell-71":"_cell-71_f8hjy_341","cell-72":"_cell-72_f8hjy_345","cell-73":"_cell-73_f8hjy_349","cell-74":"_cell-74_f8hjy_353","cell-75":"_cell-75_f8hjy_357","cell-76":"_cell-76_f8hjy_361","cell-77":"_cell-77_f8hjy_365","cell-78":"_cell-78_f8hjy_369","cell-79":"_cell-79_f8hjy_373","cell-81":"_cell-81_f8hjy_377","cell-82":"_cell-82_f8hjy_381","cell-83":"_cell-83_f8hjy_385","cell-84":"_cell-84_f8hjy_389","cell-85":"_cell-85_f8hjy_393","cell-86":"_cell-86_f8hjy_397","cell-87":"_cell-87_f8hjy_401","cell-88":"_cell-88_f8hjy_405","cell-89":"_cell-89_f8hjy_409","cell-91":"_cell-91_f8hjy_413","cell-92":"_cell-92_f8hjy_417","cell-93":"_cell-93_f8hjy_421","cell-94":"_cell-94_f8hjy_425","cell-95":"_cell-95_f8hjy_429","cell-96":"_cell-96_f8hjy_433","cell-97":"_cell-97_f8hjy_437","cell-98":"_cell-98_f8hjy_441","cell-99":"_cell-99_f8hjy_445"} */\n'}));define("sudoku.html.js",["require","exports","module","@aurelia/runtime","@aurelia/runtime-html","./sudoku.css","./cell","./cell-position"],(function(e,l,t){"use strict";l.__esModule=true;l.register=y;l.dependencies=l.default=l.template=l.name=void 0;var n=e("@aurelia/runtime");var r=e("@aurelia/runtime-html");var i=u(e("./sudoku.css"));var a=c(e("./cell"));var o=c(e("./cell-position"));function s(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;s=function(){return e};return e}function c(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=s();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;if(i&&(i.get||i.set)){Object.defineProperty(t,r,i)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}function u(e){return e&&e.__esModule?e:{default:e}}const d="sudoku";l.name=d;const f='\r\n\r\n\r\n<div class="wrapper page-grid">\r\n    <h3 class="header-section">Sudoku - standard 3x3 ${editingText}</h3>\r\n    <div class="board-section" style.bind="customCss">\r\n        <div class="matrix-layout">\r\n            <cell repeat.for="cell of sudoku" class="cell-${$index | cellPosition}" cell-model.bind="cell"\r\n                data-cell="${$index}" click.trigger="cellClicked($event)"></cell>\r\n        </div>\r\n        \x3c!-- \r\n                doesnt work on ios \r\n                had to change to trigger on each button\r\n                <div style="cursor: pointer;" click.delegate="keypadClick($event)"> \r\n            --\x3e\r\n        <div style="width: 350px; margin: 5px auto;">\r\n            <button class="key-button" click.trigger="keypadClick(\'7\')" data-key="7">7</button>\r\n            <button class="key-button" click.trigger="keypadClick(\'8\')" data-key="8">8</button>\r\n            <button class="key-button" click.trigger="keypadClick(\'9\')" data-key="9">9</button>\r\n            <button class="hint-button ${hints.isRowHint ? \'hint-active\' : \'\'}" click.trigger="keypadClick(\'r\')" data-key="r"\r\n                show.bind="!isEdit">\r\n                Row Hint\r\n            </button><br>\r\n            <button class="key-button" click.trigger="keypadClick(\'4\')" data-key="4">4</button>\r\n            <button class="key-button" click.trigger="keypadClick(\'5\')" data-key="5">5</button>\r\n            <button class="key-button" click.trigger="keypadClick(\'6\')" data-key="6">6</button>\r\n            <button class="hint-button ${hints.isCellHint ? \'hint-active\' : \'\'}" click.trigger="keypadClick(\'c\')" data-key="c"\r\n                show.bind="!isEdit">\r\n                Cell Hint\r\n            </button><br>\r\n            <button class="key-button" click.trigger="keypadClick(\'1\')" data-key="1">1</button>\r\n            <button class="key-button" click.trigger="keypadClick(\'2\')" data-key="2">2</button>\r\n            <button class="key-button" click.trigger="keypadClick(\'3\')" data-key="3">3</button><br>\r\n            <button class="key-button-clr" click.trigger="keypadClick(\'0\')" data-key="0">CLR</button>\r\n            <button class="key-button-reveal" click.trigger="keypadClick(\'s\')" data-key="s">Reveal</button>\r\n            <button class="hint-button" click.trigger="keypadClick(\'u\')">Undo</button>\r\n        </div>\r\n    </div>\r\n    <div class="option-section">\r\n        <details class="detail-content">\r\n            <summary>\r\n                Actions & Instructions\r\n            </summary>\r\n            <div>\r\n                <fieldset>\r\n                    <legend>Save & Load</legend>\r\n                    <p>\r\n                        <button class="btn" click.trigger="allowSaveOverwrite()" disabled.bind="!isDirty">Save Current Puzzle</button>\r\n                        <button class="btn" click.trigger="allowLoadOverwrite()" disabled.bind="!saveExists">Load Saved Puzzle</button>\r\n                    </p>\r\n                </fieldset>\r\n\r\n                <fieldset>\r\n                    <legend>Edit / Generate Puzzle</legend>\r\n                    <p>\r\n                        <button click.trigger="allowNewOverwrite()">Generate New Puzzle</button>\r\n                        <button click.trigger="doEdit()">${!isEdit ? \'Edit Puzzle\' : \'Stop Edit\'}</button>\r\n                        <br><br>\r\n                    <label>Difficulty:</label>\r\n                    <p>\r\n                        <input type="radio" name="radDiff" id="sizeSmall" model.bind="gameLevel.SIMPLE" checked.bind="selectedDiff" />\r\n                        <label for="sizeSmall">Simple</label>\r\n                        <input type="radio" name="radDiff" id="sizeMed" model.bind="gameLevel.MEDIUM" checked.bind="selectedDiff" />\r\n                        <label for="sizeMed">Medium</label>\r\n                        <input type="radio" name="radDiff" id="sizeLarge" model.bind="gameLevel.COMPLEX" checked.bind="selectedDiff" />\r\n                        <label for="sizeLarge">Complex</label>\r\n                    </p>\r\n                </fieldset>\r\n\r\n                <fieldset>\r\n                    <legend>Board size</legend>\r\n                    <p>\r\n                        <input type="radio" name="radSize" id="sizeSmall" model.bind="boardSize.small"\r\n                            checked.bind="selectedSize" />\r\n                        <label for="sizeSmall">small</label>\r\n                        <input type="radio" name="radSize" id="sizeMed" model.bind="boardSize.medium"\r\n                            checked.bind="selectedSize" />\r\n                        <label for="sizeMed">medium</label>\r\n                        <input type="radio" name="radSize" id="sizeLarge" model.bind="boardSize.large"\r\n                            checked.bind="selectedSize" />\r\n                        <label for="sizeLarge">large</label>\r\n                    </p>\r\n                </fieldset>\r\n            </div>\r\n            <details>\r\n                <summary>Information</summary>\r\n                <fieldset>\r\n                    <legend>Difficulty</legend>\r\n                    Selects a preset difficulty setting for the result.\r\n                    <ul>\r\n                        <li>Simple is easier, Complex more difficult</li>\r\n                    </ul>\r\n                </fieldset>\r\n\r\n                <fieldset>\r\n                    <legend>General Controls</legend>\r\n                    <ul>\r\n                        <li>Add your own puzzle by clicking Edit Puzzle</li>\r\n                        <li>Use the arrow keys or mouse to move the selected cell</li>\r\n                        <li>Use any number key to enter cell value</li>\r\n                        <li>Use SHIFT-number to enter a Row hint</li>\r\n                        <li>Use CTRL-number to enter a cell hint</li>\r\n                        <li>Entering a number again will clear that number</li>\r\n                        <li>The ZERO(0) key is used to clear all values using the selected modifier</li>\r\n                    </ul>\r\n                </fieldset>\r\n            </details>\r\n            <h4>Note: If browser data is cleared; the puzzle save is lost.</h4>\r\n        </details>\r\n\r\n    </div>\r\n</div>';l.template=f;var _=f;l.default=_;const h=[a,o,(0,r.cssModules)(i.default)];l.dependencies=h;let p;function y(e){if(!p){p=n.CustomElement.define({name:d,template:f,dependencies:h})}e.register(p)}}));define("sudoku.js",["require","exports","module","./sudoku.html","@aurelia/runtime","./hints","./key-input","./move-cell-selection","./load-save","aurelia","./validate","./cell-model","./sudoku-gen2","./sudoku-utils","alerty/dist/js/alerty.js","./constants","./position"],(function(e,l,t){"use strict";l.__esModule=true;l.Sudoku=void 0;var n=g(e("./sudoku.html"));var r=e("@aurelia/runtime");var i=e("./hints");var a=e("./key-input");var o=e("./move-cell-selection");var s=e("./load-save");var c=e("aurelia");var u=e("./validate");var d=e("./cell-model");var f=e("./sudoku-gen2");var _=e("./sudoku-utils");var h=g(e("alerty/dist/js/alerty.js"));var p=e("./constants");var y=e("./position");function v(){if(typeof WeakMap!=="function")return null;var e=new WeakMap;v=function(){return e};return e}function g(e){if(e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var l=v();if(l&&l.has(e)){return l.get(e)}var t={};var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;if(i&&(i.get||i.set)){Object.defineProperty(t,r,i)}else{t[r]=e[r]}}}t.default=e;if(l){l.set(e,t)}return t}var m=void 0&&(void 0).__decorate||function(e,l,t,n){var r=arguments.length,i=r<3?l:n===null?n=Object.getOwnPropertyDescriptor(l,t):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,l,t,n);else for(var o=e.length-1;o>=0;o--)if(a=e[o])i=(r<3?a(i):r>3?a(l,t,i):a(l,t))||i;return r>3&&i&&Object.defineProperty(l,t,i),i};var k=void 0&&(void 0).__metadata||function(e,l){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,l)};let b=class e{constructor(e,l,t,n,r){this.sudokuGen2=e;this.validate=l;this.loadSaveUtils=t;this.inputMove=n;this.keyInput=r;this.myKeypressCallback=null;this.position=new y.Position(p.positionTopLeft,p.positionTopLeft);this.hints=new i.Hints(false,false);this.boardSize=p.boardSize;this.gameLevel=p.GameLevel;this.selectedSize=p.boardSize.medium;this.selectedDiff=p.GameLevel.SIMPLE;this.editingText="";this.isEdit=false;this.isDirty=false;this.sudoku=[];this.sudokuFull=[];this.history=[];this.saveExists=false;this.saveExists=this.loadSaveUtils.doesSaveExist();this.clearSudoku()}beforeAttach(){this.setEventSubscribers()}afterAttach(){this.inputMove.markSelectedCell(this.sudoku,this.position);this.selectedSizeChanged()}beforeDetach(){this.removeEventSubscribers()}setEventSubscribers(){if(this.myKeypressCallback)return;this.myKeypressCallback=e=>{this.keyInput.handleKey(e,this.sudoku,this.position,this.inputMove,this.isEdit);this.doValidation()};document.addEventListener("keydown",this.myKeypressCallback,{capture:true})}removeEventSubscribers(){if(!this.myKeypressCallback)return;document.removeEventListener("keydown",this.myKeypressCallback);this.myKeypressCallback=null}selectedSizeChanged(){let e=Math.floor(p.initialWidth*this.selectedSize);this.customCss=`width: ${e}px;height: fit-content;`}generateSudoku(){this.isDirty=true;let e=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];let l=new f.SudokuGen2;let t=l.processSudoku(e,this.selectedDiff);this.sudokuFull=[].concat(...e);let n=[].concat(...t);this.clearSudoku();n.forEach((e,l)=>{if(e!==0)this.sudoku[l].startValue=""+e})}clearSudoku(){this.sudoku=[];this.position.prevPos=p.positionTopLeft;this.position.currPos=p.positionTopLeft;for(let e=0;e<=p.sudokuLoopSize;e++){this.sudoku.push(new d.CellModel)}this.inputMove.markSelectedCell(this.sudoku,this.position);this.resetSudokuErrors();this.keyInput.resetSudokuHistory()}resetSudokuErrors(){for(let e=0;e<=p.sudokuLoopSize;e++){this.sudoku[e].isError=false}}doEdit(){if(this.isEdit){this.isEdit=false;this.editingText=""}else{this.isEdit=true;this.editingText="- Editing"}}cellClicked(e){let l=e.currentTarget;let t=l.dataset.cell;this.position.prevPos=this.position.currPos;this.position.currPos=t;this.inputMove.markSelectedCell(this.sudoku,this.position)}keypadClick(e){this.keyInput.keypadHandler(e,this.sudoku,this.sudokuFull,this.position,this.inputMove,this.isEdit,this.hints);this.doValidation()}doValidation(){this.isDirty=true;this.resetSudokuErrors();this.validate.validateRows(this.sudoku);this.validate.validateCols(this.sudoku);this.validate.validateCells(this.sudoku);let e=this.sudoku.map(e=>{let l=e.value;let t=e.startValue;return e.value!==""?+e.value:+e.startValue});if(_.SudokuUtils.isSolvedSudoku(e)){h.alert("<h1>Congratulations!</h1>",{title:"Success",okLabel:"Ok"})}}allowNewOverwrite(){if(this.isDirty){h.confirm("This will overwrite any changes. Are you sure?",{okLabel:"Ok",cancelLabel:"Cancel"},()=>this.newOk(),()=>this.cancelled("Generate"));return}this.newOk()}newOk(){this.generateSudoku()}allowLoadOverwrite(){if(this.isDirty){h.confirm("This will overwrite any changes. Are you sure?",{okLabel:"Ok",cancelLabel:"Cancel"},()=>this.loadOk(),()=>this.cancelled("Load"));return}this.loadOk()}loadOk(){this.clearSudoku();this.loadSaveUtils.loadSaveData(this.sudoku,this.sudokuFull);this.doValidation()}cancelled(e){h.toast(`${e} Cancelled`)}allowSaveOverwrite(){if(this.loadSaveUtils.doesSaveExist()){h.confirm("This will overwrite your current save data, are you sure?",{okLabel:"Ok",cancelLabel:"Cancel"},()=>this.saveOk(),()=>this.cancelled("Save"));return}this.loadSaveUtils.saveData(this.sudoku,this.sudokuFull)}saveOk(){this.loadSaveUtils.saveData(this.sudoku,this.sudokuFull)}};l.Sudoku=b;m([c.bindable,k("design:type",Number)],b.prototype,"selectedSize",void 0);m([c.bindable,k("design:type",Number)],b.prototype,"selectedDiff",void 0);l.Sudoku=b=m([(0,r.customElement)(n),k("design:paramtypes",[f.SudokuGen2,u.Validate,s.LoadSaveUtils,o.MoveCellSelection,a.KeyInput])],b)}));define("validate.js",["require","exports","module","./constants","./sudoku-utils"],(function(e,l,t){"use strict";l.__esModule=true;l.Validate=void 0;var n=e("./constants");var r=e("./sudoku-utils");class i{validate(e){let l=[0,0,0,0,0,0,0,0,0,0];for(let t=0;t<=n.blockLoopMax;t++){let n=e[t];if(n.value!==""){l[+n.value]++}if(n.startValue!==""){l[+n.startValue]++}}l.forEach((l,t)=>{if(t===0)return;if(l>1){for(let l=0;l<=n.blockLoopMax;l++){let n=e[l];if(n.value===""+t||n.startValue===""+t){n.isError=true}}}});l=[0,0,0,0,0,0,0,0,0,0]}validateCells(e){let l=new Array;for(let t=0;t<=n.blockLoopMax;t++){for(let i=0;i<=n.blockLoopMax;i++){let n=r.SudokuUtils.getOffsets(t,i);l[i]=e[n.col+n.row]}this.validate(l)}}validateRows(e){let l=[];for(let t=0;t<n.blockSize;t++){let r=t*n.blockSize;let i=r+n.blockSize;l.push(e.slice(r,i))}l.forEach((e,l)=>{this.validate(e)})}validateCols(e){let l=[];for(let t=0;t<n.blockSize;t++){let r=t*n.blockSize;let i=r+n.blockSize;l.push(e.slice(r,i))}let t=this.transpose(l);t.forEach((e,l)=>{this.validate(e)})}transpose(e){return e[0].map((l,t)=>e.map(e=>e[t]))}}l.Validate=i}));